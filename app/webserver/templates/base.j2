<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Quectel CPE Status</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="static/css/base.css" />
        <link rel="stylesheet" href="static/node_modules/bulma/css/bulma.min.css" />
        <link rel="stylesheet" href="static/node_modules/@fortawesome/fontawesome-free/css/all.css" />
    </head>
    <body>

        <nav class="navbar is-link" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                <a class="navbar-item" href="/">
                    Quectel CPE Status
                </a>
                <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="mainmenu">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
            <div class="navbar-menu" id="mainmenu">
                <div class="navbar-start">
                    <a href="/" class="navbar-item {{ 'is-active' if request.endpoint.startswith('home.index') else '' }}">
                        <span class="fa fa-info-circle"></span>&nbsp; Status
                    </a>
                    <a href="/cmlog" class="navbar-item {{ 'is-active' if request.endpoint.startswith('home.cmlog') else '' }}">
                        <span class="fa fa-file-alt"></span>&nbsp; CM Log
                    </a>
                </div>
                <div class="navbar-end">
                    <a href="/restart" class="navbar-item pull-right">
                        <span class="fa fa-power-off"></span>&nbsp; Restart
                    </a>
                </div>
            </div>
        </nav>

        {% block body %}{% endblock %}
        {% block scripts %}{% endblock %}

        <script>

            document.addEventListener('DOMContentLoaded', () => {

                // Get all "navbar-burger" elements
                const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

                // Check if there are any navbar burgers
                if ($navbarBurgers.length > 0) {

                    // Add a click event on each of them
                    $navbarBurgers.forEach( el => {
                    el.addEventListener('click', () => {

                        // Get the target from the "data-target" attribute
                        const target = el.dataset.target;
                        const $target = document.getElementById(target);

                        // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                        el.classList.toggle('is-active');
                        $target.classList.toggle('is-active');

                    });
                    });
                }

            });

        </script>

    </body>
</html>
